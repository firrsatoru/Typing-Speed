<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Courier New', monospace;
            background-color: #1b1b1b;
            color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        .title {
            font-size: 28px;
            color: #00d1ff;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #00d1ff;
        }

        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: transparent;
            color: #f0f0f0;
            border: 2px solid #00d1ff;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, color 0.3s;
            font-size: 16px;
        }

        .back-button:hover {
            background-color: #00d1ff;
            color: #1b1b1b;
        }

        .text-container {
            background-color: #282828;
            border: 3px solid #3e3e3e;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            width: 80%;
            max-width: 600px;
            text-align: center;
            font-size: 24px;
            color: #f0f0f0;
        }

        .input-container {
            margin: 20px 0;
        }

        .input-field {
            padding: 10px;
            font-size: 18px;
            border: 2px solid #00d1ff;
            border-radius: 8px;
            background-color: #282828;
            color: #f0f0f0;
            outline: none;
        }

        .input-field:focus {
            border-color: #00aaff;
        }

        .submit-button {
            padding: 10px 20px;
            font-size: 18px;
            color: #f0f0f0;
            background-color: #00d1ff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .submit-button:hover {
            background-color: #00aaff;
        }

        .score {
            margin-top: 20px;
            font-size: 22px;
            color: #00d1ff;
            text-shadow: 0 0 10px #00d1ff;
        }

        .message {
            margin-top: 15px;
            font-size: 18px;
            color: #f0f0f0;
            text-shadow: 0 0 10px #00d1ff;
        }

        .error-message {
            color: #ff6f6f;
        }

        .success-message {
            color: #2ecc71;
        }

        .highlight-correct {
            color: #00d1ff;
        }

        .highlight-incorrect {
            color: #ff6f6f;
        }
    </style>
</head>
<body>
    <!-- <button class="back-button" onclick="window.location.href='../index.php'"><i class="fa-solid fa-arrow-left"></i> Back</button> -->
    <div class="title">Typing Speed Game</div>
    <div class="text-container" id="text-to-type">Loading text...</div>
    <div class="input-container">
        <input type="text" class="input-field" id="user-input" placeholder="Start typing here" oninput="highlightText()">
        <button class="submit-button" onclick="checkText()">Submit</button>
    </div>
    <p class="score">Score: <span id="score">0</span></p>
    <p class="message" id="message"></p>

    <script>
        let originalText = '';
        let score = 0;
        let startTime;

        // Load a random text when the page loads
        window.onload = function() {
            loadText();
        };

        function loadText() {
            // Expanded text list
            const texts = [
                'The quick brown fox jumps over the lazy dog.',
                'Pack my box with five dozen liquor jugs.',
                'How razorback-jumping frogs can level six piqued gymnasts.',
                'Jinxed wizards pluck ivy from the big quilt.',
                'A quick movement of the enemy will jeopardize six gunboats.',
                'Bright vixens jump; dozy fowl quack.',
                'Sphinx of black quartz, judge my vow.',
                'The five boxing wizards jump quickly.',
                'We promptly judged antique ivory buckles for the next prize.',
                'Jovial king of the land is a peaceful man who loves oxen.',
                'Frogs leap over the lazy dog at dusk in a quaint village.',
                'When the quick brown fox jumps, lazy dogs are startled.',
                'Packs of five dozen liquor jugs swiftly unpacked by my box.',
                'A wizardâ€™s job is to vex chumps quickly in fog.'
            ];

            originalText = texts[Math.floor(Math.random() * texts.length)];
            document.getElementById('text-to-type').innerText = originalText;
            document.getElementById('user-input').value = '';
            document.getElementById('message').innerText = '';
            startTime = new Date().getTime(); // Start timing
            highlightText(); // Highlight text on load
        }

        function highlightText() {
            const input = document.getElementById('user-input').value;
            const container = document.getElementById('text-to-type');
            let highlightedText = '';

            for (let i = 0; i < originalText.length; i++) {
                if (i < input.length) {
                    if (input[i] === originalText[i]) {
                        highlightedText += `<span class="highlight-correct">${originalText[i]}</span>`;
                    } else {
                        highlightedText += `<span class="highlight-incorrect">${originalText[i]}</span>`;
                    }
                } else {
                    highlightedText += originalText[i];
                }
            }

            container.innerHTML = highlightedText;
        }

        function checkText() {
            const userInput = document.getElementById('user-input').value.trim();
            const messageElement = document.getElementById('message');
            const elapsedTime = ((new Date().getTime() - startTime) / 1000).toFixed(2); // Time in seconds

            if (!userInput) {
                messageElement.innerText = 'Please enter some text.';
                messageElement.className = 'message error-message';
                return;
            }

            if (userInput === originalText) {
                score += 10;
                document.getElementById('score').innerText = score;
                messageElement.innerText = `Correct! Time: ${elapsedTime} seconds.`;
                messageElement.className = 'message success-message';
            } else {
                messageElement.innerText = `Incorrect. Try again! Time: ${elapsedTime} seconds.`;
                messageElement.className = 'message error-message';
            }

            // Load a new text after displaying the message
            setTimeout(loadText, 2000); // Wait 2 seconds before loading the new text
        }
    </script>
</body>
</html>
